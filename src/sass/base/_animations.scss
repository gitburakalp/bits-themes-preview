.text-anim-span {
  position: relative;
  display: block;
  overflow: hidden;

  > * {
    transition: all 640ms cubic-bezier(0.16, 0.01, 0.77, 1);
  }
}

section {
  &:not(.is-active) {
    .text-anim-span {
      > * {
        transform: translateY(101%);
        opacity: 0;
      }
    }

    [data-anim-type='ltr'],
    [data-anim-type='rtl'] {
      .img-cover {
        transform: translateX(0);
      }
    }

    [data-anim-type='ttb'],
    [data-anim-type='btt'] {
      .img-cover {
        transform: translateY(0);
      }
    }

    [data-anim-type] {
      img {
        opacity: 0;
      }

      .img-cover {
        transform: translateX(0);
      }
    }
  }
}

[class*='parallax'] {
  @extend %parallax-anim;
}

[data-anim-type='ltr'] {
  .img-cover {
    transform: translateX(-100%);
  }
}

[data-anim-type='rtl'] {
  .img-cover {
    transform: translateX(100%);
  }
}

[data-anim-type='ttb'] {
  .img-cover {
    transform: translateY(100%);
  }
}

@keyframes img-ttb {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes img-cover-ttb {
  0% {
    transform: translateY(-100%);
  }

  50% {
    transform: translateY(0);
  }

  100% {
    transform: translateY(100%);
  }
}

.img-anim--ttb {
  img {
    animation: img-ttb 1.5s;
  }

  .img-cover {
    animation: img-cover-ttb 1.5s;
  }
}

[data-anim-type] {
  img,
  .img-cover {
    transition: transform 1000ms cubic-bezier(0.575, 0.005, 0.285, 1.005), opacity 1000ms cubic-bezier(0.575, 0.005, 0.285, 1.005);
    will-change: transform, opacity;
    backface-visibility: hidden;
  }

  img {
    transform: scale(1.25);
  }

  .img-cover {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: $colors--white;
    z-index: 4;
  }
}

[bg-body] {
  .img-cover {
    background-color: color(primary, backgroundColor) !important;
  }
}

section {
  &.is-active {
    [data-anim-type] {
      img {
        transform: scale(1);
      }
    }
  }
}

.cb {
  &-slide {
    > * {
      position: relative;
    }

    &:not(.slider-slide--active) {
      > * {
        opacity: 0;
        top: 15px;
      }
    }

    &.slider-slide--active {
      > * {
        top: 0;
        transition: opacity 1s, top 350ms cubic-bezier(0.165, 0.84, 0.44, 1);

        @for $i from 1 to 4 {
          &:nth-child(#{$i}) {
            transition-delay: $i * 0.35s;
          }
        }
      }
    }
  }
}
